getwd()
getwd()
setwd('D:/ZhuoZhou_Data_Git')
dir()
df_near_city <- read.csv('data/2018-04-15to2018-07-01_61694036420907.csv')
df_far_city  <- read.csv('data/2018-04-15to2018-07-01_63586031976115.csv')
library(ggplot2)
library(ggplot2)
ggplot(aes(x = PM2p5), data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25))
ggplot(aes(x = PM2p5, y = ..count..), data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25))
qplot(x = PM2p5, data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25))
setwd('D:/ZhuoZhou_Data_Git')
getwd()
setwd('D:/ZhuoZhou_Data_Git')
dir()
library(ggplot2)
qplot(x = PM2p5, data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25))
# 转换为频数多边形来显示
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
# 由于是幂律分布，考虑用log处理
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
# 由于是幂律分布，考虑用log处理
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
# 转换为频数多边形来显示
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
getwd()
setwd('D:/ZhuoZhou_Data_Git')
library(dplyr)
library(ggplot2)
install.packages(stats)
install.packages(dplyr)
# 由于是幂律分布，考虑用log处理
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
library(ggplot2)
df_near_city <- read.csv('data/2018-04-15to2018-07-01_61694036420907.csv')
df_near_city <- read.csv('data/2018-04-15to2018-07-01_61694036420907.csv')
df_far_city  <- read.csv('data/2018-04-15to2018-07-01_63586031976115.csv')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
# 由于是幂律分布，考虑用log处理
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
?试了下，就是中文造成
?subset
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
?geom_freqpoly
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_far_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
qplot(x = PM2p5, data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25))
qplot(x = PM2p5, data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
qplot(x = PM2p5, data = df_near_city, binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5')
qplot(x = PM2p5, data = df_near_city, binwidth = 1) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5')
qplot(x = PM2p5, data = df_near_city, binwidth = 2) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
qplot(x = PM2p5, data = df_near_city, binwidth = 2) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = df_near_city) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
qplot(x = PM2p5, data = df_near_city, binwidth = 2) +
scale_x_continuous(breaks = seq(0,200,10)) +
xlab('PM2.5')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 5) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..count../sum(..count..)), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 2) +
scale_x_continuous(breaks = seq(0,200,25)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_far_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
scale_y_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_far_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
scale_y_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_far_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
ggplot(aes(x = PM2p5), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
scale_y_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = subset(df_near_city, PM2p5 > 0)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
scale_y_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
names(df_far_city)
df <- subset(df_far_city, PM2p5 > 0)$PM2p5
dfPM2p5$near <- subset(df_near_city, PM2p5 > 0)$PM2p5
df <- data.frame(near6 = subset(df_near_city, PM2p5 > 0)$PM2p5,
far1 = subset(df_far_city, PM2p5 > 0)$PM2p5)
?data.frame
df <- data.frame(PM2p5 = subset(df_near_city, PM2p5 > 0)$PM2p5,
monitor = 'near6')
?merge
df <- rbind(df, data.frame(PM2p5 = subset(df_far_city, PM2p5 > 0)$PM2p5, monitor = 'near6'))
ggplot(aes(x = PM2p5, y = ..density..), data = df, color = 'monitor') +
geom_freqpoly(binwidth = 1) +
scale_x_log10(breaks = seq(0,300,100)) +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(aes(x = PM2p5, y = ..density..), data = df, color = monitor) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
df <- data.frame(PM2p5 = subset(df_near_city, PM2p5 > 0)$PM2p5, monitor = 'near6')
df <- rbind(df, data.frame(PM2p5 = subset(df_far_city, PM2p5 > 0)$PM2p5, monitor = 'far1'))
ggplot(aes(x = PM2p5, y = ..density..), data = df, color = monitor) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
View(df)
View(df)
ggplot(aes(x = PM2p5, y = ..density..), data = df, color = 'monitor') +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
?ggplot
ggplot(data = df, aes(x = PM2p5, y = ..density.., color = monitor)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(data = df, aes(x = PM2p5, y = ..density.., color = monitor)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
scale_y_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(data = df, aes(x = PM2p5, y = ..density.., color = monitor)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5') +
ylab('Percentage of that count')
ggplot(data = df, aes(x = PM2p5, y = ..density.., color = monitor)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
scale_y_log10() +
xlab('PM2.5 (lg)') +
ylab('Percentage of that count (lg)')
ggplot(data = df, aes(x = PM2p5, y = ..density.., color = monitor)) +
geom_freqpoly(binwidth = 1) +
scale_x_log10() +
xlab('PM2.5 (lg)') +
ylab('Percentage of that count')
